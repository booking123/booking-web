/* Copyright CBT Limited London - may only used with http://razor-cloud.com services */
(function(c){c.fn.ledger=function(g){var a=c.extend({pos:"",error:!1,fields:[["name","Account Name"],["subledger","Subsidiary Ledger"],["type","Account Type"],["notes","Notes"]]},g);return this.each(function(){localize(function(){a.error&&console.log("ledger "+a.pos+", "+a.error);c.getJSON(jsonURL(),{service:"ledger",pos:a.pos,productid:a.productid,rows:a.rows},function(d){if(d.message)a.error&&console.log(d.message);else{for(var e=!0,b="<thead><tr>",f=0;f<a.fields.length;f++)b+="<th>"+a.fields[f][1]+
"</th>";b+="</tr></thead><tbody>";c.each(d.items,function(c){b=e?b+"<tr class='odd'>":b+"<tr class='even'>";e=!e;for(c=0;c<a.fields.length;c++){var d=eval("item."+a.fields[c][0]);b+="<td>"+formatted(d,a.fields[c][2])+"</td>"}b+="</tr>"});c("#cbt_ledger").append(b)}}).error(function(){a.error&&console.log("ledger error")})})})}})(jQuery);
