/* Copyright CBT Limited London - may only used with http://razor-cloud.com services */
(function(c){c.fn.rate=function(j){var a=c.extend({pos:"",reservationid:"",ratings:5,error:!0,fields:[]},j);return this.each(function(){localize(function(){a.error&&console.log("rate "+a.pos+", "+a.reservationid+", Rating, "+a.error);c.getJSON(jsonURL(),{service:"rate",pos:a.pos,reservationid:a.reservationid,type:"Rating"},function(f){for(var g=!0,b="",d=0;d<a.fields.length;d++){for(var b=g?b+"<tr class='odd'>":b+"<tr class='even'>",g=!g,i=a.fields[d][0],b=b+("<td>"+a.fields[d][1]+"</td>"),h=0;h<
a.ratings;h++)b+="<td><input type='radio' name='cbt_rate_"+i+"' value='"+i+"-"+h+"'/></td>";b+="</tr>"}c("#cbt_rate").append(b);f.message?a.error&&console.log(f.message):c.each(f.items,function(a,b){console.log("cbt_rate "+b)})}).error(function(){a.error&&console.log("rate error")})})})}})(jQuery);
