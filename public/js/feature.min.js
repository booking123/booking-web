/* Copyright CBT Limited London - may only used with http://razor-cloud.com services */
(function(c){var a={pos:"",model:"",id:"",date:"",currency:"",type:null,start:0,rows:6,error:!0,fields:[]},e={init:function(d){a=c.extend(a,d);return this.each(function(d,e){localize(function(){a.error&&console.log("feature "+a.pos+", "+a.model+", "+a.id+", "+a.date+", "+a.currency+", "+a.type+", "+a.start+", "+a.rows+", "+a.error);c.getJSON(jsonURL(),{service:"feature",pos:a.pos,model:a.model,id:a.id,date:a.date,currency:a.currency,type:a.type,start:a.start,rows:a.rows},function(d){if(d.message)a.error&&
console.log(d.message);else{for(var g=!0,b="<thead><tr>",b=b+"<th>Qty</th>",f=0;f<a.fields.length;f++)b+="<th>"+a.fields[f][1]+"</th>";b+="</tr></thead><tbody>";c.each(d.items,function(d,c){b=g?b+"<tr class='odd'>":b+"<tr class='even'>";g=!g;b="Mandatory"==c.type?b+("<td><input type='text' class='cbt_feature_qty' id='"+c.id+"' value='1' readonly='readonly'/></td>"):b+("<td><input type='text' class='cbt_feature_qty' id='"+c.id+"' value='0'/></td>");for(var e=0;e<a.fields.length;e++){var f=eval("item."+
a.fields[e][0]);b+="<td>"+formatted(f,a.fields[e][2],culture(c.currency))+"</td>"}b+="</tr>"});b+="</tbody>";c(e).append(b)}}).error(function(){a.error&&console.log("feature error")})})})},id:function(d){a.error&&console.log("id "+d);a.id=d}};c.fn.feature=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return e.init.apply(this,arguments);console.log("Method "+a+" does not exist.")}})(jQuery);
