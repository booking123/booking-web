/* Copyright CBT Limited London - may only used with http://razor-cloud.com services */
(function(c){function d(){a.error&&console.log("location "+a.pos+", "+a.model+", "+a.id+", "+a.origin+", "+a.travelMode+", "+a.unitSystem+", "+a.plain+", "+a.zoom+", "+a.heading+", "+a.pitch+", "+a.error);!a.zoom||1>a.zoom||20<a.zoom?a.error&&console.log("Invalid zoom parameter - must be in the range 1 <= wait <= 20"):c.getJSON(jsonURL(),{service:a.model,pos:a.pos,id:a.id},function(b){b.message?a.error&&console.log(b.message):(c("#cbt_map").map({latitude:b.latitude,longitude:b.longitude,zoom:a.zoom,
content:b.name+"\n"+b.physicaladdress,error:a.error}),c("#cbt_view").view({latitude:b.latitude,longitude:b.longitude,zoom:a.zoom,heading:a.heading,pitch:a.pitch,error:a.error}),c("#cbt_route").route({latitude:b.latitude,longitude:b.longitude,travelMode:a.travelMode,unitSystem:a.unitSystem,plain:!0,error:a.error}),c("#cbt_route").route("origin",a.origin),c("#cbt_route_popup").dialog({autoOpen:!1}),c("#cbt_route_click").click(function(){c("#cbt_route_popup").dialog({width:700});c("#cbt_route_popup").dialog("open")}))}).error(function(){a.error&&
console.log("location error")})}var a={pos:"",model:"",id:"",origin:"",travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,plain:!1,zoom:15,heading:34,pitch:10,error:!1},e={init:function(b){a=c.extend(a,b);return this.each(function(){d()})},id:function(b){a.error&&console.log("set id "+b);a.id=b;d()},origin:function(b){a.error&&console.log("set origin "+b);a.origin=b;d()},travelMode:function(b){a.error&&console.log("set travelMode "+b);a.travelMode=b;d()},unitSystem:function(b){a.error&&
console.log("set unitSystem "+b);a.unitSystem=b;d()},zoom:function(b){a.error&&console.log("set zoom "+b);a.zoom=b;d()}};c.fn.location=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return e.init.apply(this,arguments);console.log("Method "+a+" does not exist.")}})(jQuery);
